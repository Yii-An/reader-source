# Reader Source - é¡¹ç›®ç®€ä»‹

## é¡¹ç›®æ¦‚è¿°

**Reader Source** æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„é˜…è¯»å™¨ä¹¦æºç¼–è¾‘å™¨ï¼Œç”¨äºç®¡ç†å’Œç¼–è¾‘é˜…è¯»ç±»åº”ç”¨ï¼ˆå¦‚ Legadoã€Œé˜…è¯»ã€ã€any-reader ç­‰ï¼‰çš„ä¹¦æºè§„åˆ™ã€‚è¯¥å·¥å…·æä¾›å¯è§†åŒ–çš„è§„åˆ™ç¼–è¾‘ç•Œé¢ï¼Œæ”¯æŒå¤šç§ä¹¦æºæ ¼å¼çš„å¯¼å…¥ã€è½¬æ¢å’Œå¯¼å‡ºã€‚

## æ ¸å¿ƒç›®æ ‡

1. **ç»Ÿä¸€ä¹¦æºç®¡ç†** - æä¾›ä¸€ä¸ªé€šç”¨çš„ä¹¦æºç¼–è¾‘å¹³å°ï¼Œå…¼å®¹ä¸»æµé˜…è¯»å™¨æ ¼å¼
2. **æ ¼å¼äº’è½¬** - å®ç° any-reader å’Œ Legado ä¹¦æºæ ¼å¼çš„åŒå‘è½¬æ¢
3. **å¯è§†åŒ–ç¼–è¾‘** - é€šè¿‡è¡¨å•å’Œä»£ç ç¼–è¾‘å™¨ç®€åŒ–è§„åˆ™åˆ›å»ºå’Œç»´æŠ¤
4. **è§„åˆ™æµ‹è¯•** - å†…ç½®æµ‹è¯•é¢æ¿éªŒè¯ä¹¦æºè§„åˆ™çš„æ­£ç¡®æ€§

## æŠ€æœ¯æ ˆ

| ç±»åˆ«     | æŠ€æœ¯                          |
| -------- | ----------------------------- |
| æ¡†æ¶     | Electron + Vue 3 + TypeScript |
| æ„å»ºå·¥å…· | electron-vite + Vite          |
| çŠ¶æ€ç®¡ç† | Pinia                         |
| UI ç»„ä»¶  | Arco Design Vue               |
| ä»£ç ç¼–è¾‘ | Monaco Editor                 |
| æ•°æ®å­˜å‚¨ | IndexedDB (idb-keyval)        |
| ç½‘é¡µè§£æ | Cheerio + Puppeteer           |
| è·¯ç”±     | Vue Router                    |

## é¡¹ç›®ç»“æ„

```
docs/               # ç”¨æˆ·æ–‡æ¡£
â”œâ”€â”€ rule-guide.md         # é€šç”¨è§„åˆ™ä½¿ç”¨æŒ‡å—
â””â”€â”€ universal-rule-spec.md # é€šç”¨è§„åˆ™è§„èŒƒè®¾è®¡æ–¹æ¡ˆ

scripts/            # å¼€å‘æµ‹è¯•è„šæœ¬
â”œâ”€â”€ README.md             # è„šæœ¬ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ test-conversion.ts    # è§„åˆ™è½¬æ¢æµ‹è¯•è„šæœ¬
â””â”€â”€ test-roundtrip.ts     # å¾€è¿”ä¸€è‡´æ€§æµ‹è¯•è„šæœ¬

test_rules/         # æµ‹è¯•è§„åˆ™æ ·ä¾‹
â”œâ”€â”€ anyReader/            # any-reader æ ¼å¼è§„åˆ™
â”œâ”€â”€ legado/               # Legado æ ¼å¼è§„åˆ™
â””â”€â”€ universal/            # é€šç”¨æ ¼å¼è§„åˆ™

src/
â”œâ”€â”€ main/           # Electron ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ index.ts    # ä¸»è¿›ç¨‹å…¥å£
â”‚   â”œâ”€â”€ logger.ts   # æ—¥å¿—æ¨¡å—
â”‚   â””â”€â”€ proxy.ts    # ç½‘ç»œä»£ç†æ¨¡å—
â”œâ”€â”€ preload/        # é¢„åŠ è½½è„šæœ¬
â””â”€â”€ renderer/src/   # Vue æ¸²æŸ“è¿›ç¨‹
    â”œâ”€â”€ components/ # UI ç»„ä»¶
    â”‚   â”œâ”€â”€ source-editor/  # è§„åˆ™ç¼–è¾‘å™¨
    â”‚   â””â”€â”€ test-panel/     # æµ‹è¯•é¢æ¿
    â”‚       â””â”€â”€ composables/useBatchTest.ts  # æ‰¹é‡æµ‹è¯•é€»è¾‘
    â”œâ”€â”€ converters/ # è§„åˆ™æ ¼å¼è½¬æ¢å™¨
    â”‚   â”œâ”€â”€ any-reader.ts   # any-reader è½¬æ¢
    â”‚   â”œâ”€â”€ legado.ts       # Legado è½¬æ¢
    â”‚   â””â”€â”€ expression/     # è¡¨è¾¾å¼è§£æ
    â”œâ”€â”€ stores/     # Pinia çŠ¶æ€ç®¡ç†
    â”‚   â”œâ”€â”€ sourceStore.ts  # ä¹¦æºç®¡ç†
    â”‚   â””â”€â”€ logStore.ts     # æ—¥å¿—ç®¡ç†
    â”œâ”€â”€ types/      # TypeScript ç±»å‹å®šä¹‰
    â”‚   â”œâ”€â”€ universal.ts    # é€šç”¨è§„åˆ™ç±»å‹
    â”‚   â”œâ”€â”€ legado.ts       # Legado è§„åˆ™ç±»å‹
    â”‚   â””â”€â”€ index.ts        # any-reader è§„åˆ™ç±»å‹
    â”œâ”€â”€ router/     # è·¯ç”±é…ç½®
    â””â”€â”€ views/      # é¡µé¢è§†å›¾
        â”œâ”€â”€ Home.vue        # ä¸»é¡µé¢
        â””â”€â”€ BatchTest.vue   # æ‰¹é‡æµ‹è¯•é¡µé¢
```

## ç›®æ ‡ç”¨æˆ·

- é˜…è¯» App ç”¨æˆ·ï¼ˆéœ€è¦è‡ªå®šä¹‰ä¹¦æºï¼‰
- ä¹¦æºè§„åˆ™å¼€å‘è€…
- é˜…è¯»å™¨ç¤¾åŒºç»´æŠ¤è€…

## æ”¯æŒçš„ä¹¦æºæ ¼å¼

| æ ¼å¼           | æè¿°                                              |
| -------------- | ------------------------------------------------- |
| **any-reader** | é€šç”¨é˜…è¯»å™¨æ ¼å¼ï¼Œæ”¯æŒå°è¯´ã€æ¼«ç”»ã€è§†é¢‘ã€éŸ³é¢‘ã€RSS   |
| **Legado**     | ã€Œé˜…è¯»ã€App ä¹¦æºæ ¼å¼ï¼Œå¹¿æ³›ä½¿ç”¨äº Android é˜…è¯»ç¤¾åŒº |
| **Universal**  | é¡¹ç›®å®šä¹‰çš„é€šç”¨è§„åˆ™æ ¼å¼ï¼Œä½œä¸ºä¸¤ç§æ ¼å¼çš„è¶…é›†        |

## ä¸»è¦åŠŸèƒ½

- ğŸ“‹ ä¹¦æºåˆ—è¡¨ç®¡ç†ï¼ˆå¯¼å…¥/å¯¼å‡º/åˆ é™¤ï¼‰
- âœï¸ å¯è§†åŒ–è§„åˆ™ç¼–è¾‘å™¨
- ğŸ”„ å¤šæ ¼å¼è½¬æ¢ï¼ˆany-reader â†” Universal â†” Legadoï¼‰
- ğŸ§ª è§„åˆ™æµ‹è¯•é¢æ¿ï¼ˆæœç´¢/å‘ç°/ç« èŠ‚/å†…å®¹ï¼‰
- âš¡ **æ‰¹é‡æµ‹è¯•**ï¼ˆå¤šä¹¦æºå¹¶å‘æœç´¢æµ‹è¯•ï¼‰
- ğŸ“ Monaco ä»£ç ç¼–è¾‘å™¨æ”¯æŒ
- ğŸ’¾ æœ¬åœ°æ•°æ®æŒä¹…åŒ–ï¼ˆIndexedDBï¼‰
- ğŸ”§ è‡ªåŠ¨åŒ–è½¬æ¢æµ‹è¯•è„šæœ¬

## æ”¯æŒçš„å†…å®¹ç±»å‹

- ğŸ“– å°è¯´/æ–‡å­— (novel)
- ğŸ“š æ¼«ç”»/å›¾ç‰‡ (manga)
- ğŸ¬ è§†é¢‘ (video)
- ğŸµ éŸ³é¢‘/æœ‰å£°ä¹¦ (audio)
- ğŸ“° RSS è®¢é˜… (rss)

## å¼€å‘å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build:mac    # macOS
npm run build:win    # Windows
npm run build:linux  # Linux

# ä»£ç æ£€æŸ¥
npm run lint
npm run typecheck

# è¿è¡Œè½¬æ¢æµ‹è¯•è„šæœ¬
npx tsx scripts/test-conversion.ts
```

## é¡¹ç›®çŠ¶æ€

**å¼€å‘é˜¶æ®µ** - æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼ŒæŒç»­è¿­ä»£ä¼˜åŒ–ä¸­
